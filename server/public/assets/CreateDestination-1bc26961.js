import{r as u,u as p,j as t}from"./index-54e76be3.js";const m=()=>{const[n,c]=u.useState({destination:"",description:"",city:"",country:"",img_url:"",flag_img_url:""}),{trip_id:d}=p(),e=s=>{const{name:i,value:a}=s.target;c(r=>({...r,[i]:a}))},j=async s=>{s.preventDefault();const i=async()=>{const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},l=await(await fetch("/api/destinations",o)).json();return c(l),l.id},a=async o=>{const x={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trip_id:d,destination_id:o})};return await(await fetch("/api/trips-destinations",x)).json()},r=await i();await a(r),window.location="/destinations"};return t.jsxs("div",{children:[t.jsx("center",{children:t.jsx("h3",{children:"Add Destination"})}),t.jsxs("form",{children:[t.jsx("label",{children:"Destination"})," ",t.jsx("br",{}),t.jsx("input",{type:"text",id:"destination",name:"destination",value:n.destination,onChange:e}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Description"}),t.jsx("br",{}),t.jsx("textarea",{rows:"5",cols:"50",id:"description",name:"description",value:n.description,onChange:e}),t.jsx("br",{}),t.jsx("label",{children:"City "}),t.jsx("br",{}),t.jsx("input",{type:"text",id:"city",name:"city",value:n.city,onChange:e}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Country"}),t.jsx("br",{}),t.jsx("input",{type:"text",id:"country",name:"country",value:n.country,onChange:e}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Image URL "}),t.jsx("br",{}),t.jsx("input",{type:"text",id:"img_url",name:"img_url",value:n.img_url,onChange:e}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Flag Image URL"}),t.jsx("br",{}),t.jsx("input",{type:"text",id:"flag_img_url",name:"flag_img_url",value:n.flag_img_url,onChange:e}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Trip ID"}),t.jsx("br",{}),t.jsx("input",{type:"text",id:"flag_img_url",name:"flag_img_url",value:d,readOnly:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"submit",value:"Submit",onClick:j})]})]})};export{m as default};
