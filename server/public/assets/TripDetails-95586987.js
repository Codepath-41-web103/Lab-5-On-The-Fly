import{u as h,r as a,j as t,L as p,P as _}from"./index-54e76be3.js";import{A as v,D as y}from"./index-683b884e.js";const f=({data:l})=>{const{id:e}=h(),[i,m]=a.useState({id:0,title:"",description:"",img_url:"",num_days:0,start_date:"",end_date:"",total_cost:0}),[d,u]=a.useState([]),[r,x]=a.useState([]);return a.useEffect(()=>{const s=l.filter(c=>c.id===parseInt(e))[0];m({id:parseInt(s.id),title:s.title,description:s.description,img_url:s.img_url,num_days:parseInt(s.num_days),start_date:s.start_date.slice(0,10),end_date:s.end_date.slice(0,10),total_cost:s.total_cost});const n=async()=>{const o=await(await fetch("/api/activities/"+e)).json();u(o)},j=async()=>{const o=await(await fetch("/api/trips-destinations/destinations/"+e)).json();x(o)};n(),j()},[l,e]),t.jsxs("div",{className:"out",children:[t.jsxs("div",{className:"flex-container",children:[t.jsxs("div",{className:"left-side",children:[t.jsx("h3",{children:i.title}),t.jsx("p",{children:"🗓️ Duration: "+i.num_days+" days "}),t.jsx("p",{children:"🛫 Depart: "+i.start_date}),t.jsx("p",{children:"🛬 Return: "+i.end_date}),t.jsx("p",{children:i.description})]}),t.jsx("div",{className:"right-side",style:{backgroundImage:`url(${i.img_url})`}})]}),t.jsxs("div",{className:"flex-container",children:[t.jsxs("div",{className:"activities",children:[d&&d.length>0?d.map((s,n)=>t.jsx(a.Fragment,{children:t.jsx(v,{id:s.id,activity:s.activity,num_votes:s.num_votes})},n)):"",t.jsx("br",{}),t.jsx(p,{to:"../../activity/create/"+e,children:t.jsx("button",{className:"addActivityBtn",children:"+ Add Activity"})})]}),t.jsxs("div",{className:"destinations",children:[r&&r.length>0?r.map((s,n)=>t.jsx(a.Fragment,{children:t.jsx(y,{id:s.id,destination:s.destination})},n)):"",t.jsx("br",{}),t.jsx(p,{to:"../../destination/new/"+e,children:t.jsx("button",{className:"addDestinationBtn",children:"+ Add Destination"})})]})]})]})};f.propTypes={data:_.array.isRequired};export{f as default};
